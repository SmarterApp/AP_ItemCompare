package org.opentestsystem.ap.itemcompare.util;

import lombok.NoArgsConstructor;
import org.apache.commons.lang3.RandomStringUtils;
import org.springframework.stereotype.Component;

import java.nio.file.Path;
import java.nio.file.Paths;

@Component
@NoArgsConstructor
public class CompareUtil {
    private static final int MAX_IMPORT_ITEM_ID = 200000;

    /**
     *
     * @param itemId
     * @return
     */
    public static boolean isImported(String itemId) {
        return Integer.parseInt(itemId) < MAX_IMPORT_ITEM_ID;
    }

    /**
     *
     * @param localBaseDir
     * @return
     */
    public static Path generateItemPath(String localBaseDir) {
        Path localRepositoryPath = Paths.get(localBaseDir, RandomStringUtils.randomAlphabetic(8));

        localRepositoryPath.toFile().mkdirs();
        return localRepositoryPath;
    }

}
